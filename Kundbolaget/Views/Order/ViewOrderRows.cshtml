@model IEnumerable<Kundbolaget.Models.EntityModels.OrderRow>

@{
    ViewBag.Title = "ViewOrderRows";
}

<h2>Order</h2>
<h4>Orderrader</h4>


<table class="table table-striped">
    <tr>
        <th>@Html.DisplayNameFor(model => model.ProductId)</th>
        <th>@Html.DisplayNameFor(model => model.Product.Name)</th>
        <th>@Html.DisplayNameFor(model => model.AmountOrdered)</th>
        <th>@Html.DisplayNameFor(model => model.AmountShipped)</th>
        <th>@Html.DisplayNameFor(model => model.Price)</th>
        <th>@Html.DisplayNameFor(model => model.Discount)</th>
        <th>@Html.DisplayNameFor(item => item.DiscountedPrice)</th>
        <th>Totalt pris</th>
        <th></th>
        
    </tr>

    @foreach (var item in Model) {
        <tr>
            <td>@Html.DisplayFor(modelItem => item.ProductId)</td>
            <td>@Html.DisplayFor(modelItem => item.Product.Name)</td>
            <td>@Html.DisplayFor(modelItem => item.AmountOrdered)</td>
            <td>@Html.DisplayFor(modelItem => item.AmountShipped)</td>
            <td>@Html.DisplayFor(modelItem => item.Price)</td>
            <td>
                @if (item.Discount > 0)
                {
                    @($"{item.Discount * 100:0.##}%")
                }
                else
                {
                    <text>&mdash;</text>
                }
            </td>
            <td>
                @if (item.Discount > 0)
                {
                    @($"{item.DiscountedPrice:0.00}")
                }
                else
                {
                    <text>&mdash;</text>
                }
            </td>
            <td>@($"{item.DiscountedPrice * item.AmountShipped:0.00}")</td>
        </tr>
    }

</table>

