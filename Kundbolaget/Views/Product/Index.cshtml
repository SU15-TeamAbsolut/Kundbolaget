@model Kundbolaget.Models.ViewModels.ProductCategoryViewModel

@{
    ViewBag.Title = "Index";
}
<div class="ProductMainWindow" style="padding-left: 15px;">
<br/>
@using (Html.BeginForm("Index", "Product"))
{
        <Div class="form-group" style= "width: 10%; padding-bottom: 10px" >
        @Html.DropDownListFor(m => m.ProductCategory.Id, new SelectList(Model.ProductCategories, "Id", "Name"), "Alla kategorier", new {onchange = @"form-submit();", @class = "form-control"})
        </div>
 }



<table class="table">
    <tr>
        <th>
            @Html.DisplayNameFor(model => model.Product.Name)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.ProductCategory)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.Product.Description)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.Product.Price)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.Product.ProductNumber)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.Product.Volume)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.Product.PackageAmount)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.Product.AlcoholPercentage)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.Product.AccountingCode)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.Product.VatCode)
        </th>
        <th></th>
    </tr>

    @foreach (var item in Model.Products)
    {
        <tr>
            <td>

                @Html.ActionLink(item.Name, "Details", new {id = item.Id})
            </td>
            <td>
                @{
                    var categoryName = Model.ProductCategories.First(x => x.Id == item.ProductCategoryId).Name;
                }
                @categoryName
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.Description)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.Price)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.ProductNumber)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.Volume)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.PackageAmount)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.AlcoholPercentage)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.AccountingCode)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.VatCode)
            </td>
            <td>

            </td>
        </tr>
    }

</table>
    <p>
        @Html.ActionLink("Skapa ny artikel", "Create", null, new { @class = "btn btn-primary" })
    </p>
</div>
